(function(){var t,r;THREE.terraingen.HeightMapProvider=function(){function t(t){this.RNGFunction=null!=t?t:Math.random}return t.prototype.getHeightAt=function(){return this.RNGFunction()},t}(),t=Math.floor,r=Math.sqrt,THREE.terraingen.PerlinHeightMapProvider=function(){function i(r){var i,n;this.RNGFunction=null!=r?r:Math.random,n=this.RNGFunction,this.p=function(){var r,o;for(o=[],i=r=0;256>r;i=++r)o.push(t(256*n()));return o}(),this.perm=function(){var t,r;for(r=[],i=t=0;512>t;i=++t)r.push(this.p[255&i]);return r}.call(this)}return i.prototype.grad3=[[1,1,0],[-1,1,0],[1,-1,0],[-1,-1,0],[1,0,1],[-1,0,1],[1,0,-1],[-1,0,-1],[0,1,1],[0,-1,1],[0,1,-1],[0,-1,-1]],i.prototype.simplex=[[0,1,2,3],[0,1,3,2],[0,0,0,0],[0,2,3,1],[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,2,3,0],[0,2,1,3],[0,0,0,0],[0,3,1,2],[0,3,2,1],[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,3,2,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,2,0,3],[0,0,0,0],[1,3,0,2],[0,0,0,0],[0,0,0,0],[0,0,0,0],[2,3,0,1],[2,3,1,0],[1,0,2,3],[1,0,3,2],[0,0,0,0],[0,0,0,0],[0,0,0,0],[2,0,3,1],[0,0,0,0],[2,1,3,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[2,0,1,3],[0,0,0,0],[0,0,0,0],[0,0,0,0],[3,0,1,2],[3,0,2,1],[0,0,0,0],[3,1,2,0],[2,1,0,3],[0,0,0,0],[0,0,0,0],[0,0,0,0],[3,1,0,2],[0,0,0,0],[3,2,0,1],[3,2,1,0]],i.prototype.dot=function(t,r,i){return t[0]*r+t[1]*i},i.prototype.getHeightAt=function(i,n){var o,e,h,s,u,p,a,c,f,d,g,l,m,v,H,M,R,y,E,F,G,N,P,A,T,q,x;return o=.5*(r(3)-1),R=(i+n)*o,c=t(i+R),g=t(n+R),e=(3-r(3))/6,y=(c+g)*e,h=c-y,s=g-y,N=i-h,T=n-s,N>T?(f=1,l=0):(f=0,l=1),P=N-f+e,q=T-l+e,A=N-1+2*e,x=T-1+2*e,d=255&c,m=255&g,u=this.perm[d+this.perm[m]]%12,p=this.perm[d+f+this.perm[m+l]]%12,a=this.perm[d+1+this.perm[m+1]]%12,E=.5-N*N-T*T,0>E?v=0:(E*=E,v=E*E*this.dot(this.grad3[u],N,T)),F=.5-P*P-q*q,0>F?H=0:(F*=F,H=F*F*this.dot(this.grad3[p],P,q)),G=.5-A*A-x*x,0>G?M=0:(G*=G,M=G*G*this.dot(this.grad3[a],A,x)),70*(v+H+M)},i}()}).call(this);