(function(){var t,i,s;s=Math.sqrt,i=Math.floor,t=Math.abs,window.NoiseGenerator={ready:!1,N:624,FF:4294967295,Seed:48932432,grad3:[[1,1,0],[-1,1,0],[1,-1,0],[-1,-1,0],[1,0,1],[-1,0,1],[1,0,-1],[-1,0,-1],[0,1,1],[0,-1,1],[0,1,-1],[0,-1,-1]],simplex:[[0,1,2,3],[0,1,3,2],[0,0,0,0],[0,2,3,1],[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,2,3,0],[0,2,1,3],[0,0,0,0],[0,3,1,2],[0,3,2,1],[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,3,2,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,2,0,3],[0,0,0,0],[1,3,0,2],[0,0,0,0],[0,0,0,0],[0,0,0,0],[2,3,0,1],[2,3,1,0],[1,0,2,3],[1,0,3,2],[0,0,0,0],[0,0,0,0],[0,0,0,0],[2,0,3,1],[0,0,0,0],[2,1,3,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[2,0,1,3],[0,0,0,0],[0,0,0,0],[0,0,0,0],[3,0,1,2],[3,0,2,1],[0,0,0,0],[3,1,2,0],[2,1,0,3],[0,0,0,0],[0,0,0,0],[0,0,0,0],[3,1,0,2],[0,0,0,0],[3,2,0,1],[3,2,1,0]],initRandom:function(t){var i,s,e,n;for(this.mt=[],this.index=0,this.mt[0]=t,i=e=1,n=this.N;n>=1?n>e:e>n;i=n>=1?++e:--e)s=this.mt[i-1]^this.mt[i-1]>>>30,this.mt[i]=(1812433253*((4294901760&s)>>>16)<<16)+1812433253*(65535&s)+i>>>0;return this.ready=!0},initMap:function(){var t;return this.p=function(){var i,s;for(s=[],t=i=0;256>i;t=++i)s.push(Math.floor(256*this.rand()));return s}.call(this),this.perm=function(){var i,s;for(s=[],t=i=0;512>i;t=++i)s.push(this.p[255&t]);return s}.call(this)},next:function(){var t;return 0===this.index&&this.twist(),t=this.mt[this.index],t^=t>>>11,t=(t^t<<7&2636928640)&this.FF,t=(t^t<<15&4022730752)&this.FF,t^=t>>>18,this.index=(this.index+1)%this.N,t>>>0},twist:function(){var t,i,s,e;for(t=s=0,e=this.N;e>=0?e>s:s>e;t=e>=0?++s:--s)i=2147483648&this.mt[t]|2147483647&this.mt[(t+1)%this.N],this.mt[t]=(this.mt[(t+397)%this.N]^i>>>1)>>>0,0!==(1&i)&&(this.mt[t]=(2567483615^this.mt[t])>>>0);return null},rand:function(){return this.next()*(1/4294967295)},dot:function(t,i,s){return t[0]*i+t[1]*s},fillGeometry:function(){var t;return t=new THREE.Geometry},getVertices:function(t){var i,s,e,n,r,h,o,a,u,m,d,c,f,l,g,v,x,p;for(d=t.bounds.min.x,c=t.bounds.min.y,m=i=t.segments+1,r=t.octaves,o=t.scale,h=t.vertices,v=t.bounds.max.x-t.bounds.min.x,f=t.bounds.max.y-t.bounds.min.y,a=Math.abs(v/t.segments),u=Math.abs(f/t.segments),n=0,s=l=0;i>l;s=l+=1)for(p=c+s*u,e=g=0;m>g;e=g+=1)x=d+e*a,t.vertices[n]=e*u,t.vertices[n+1]=500*this.getNoiseValue(x,p,0,r,o),t.vertices[n+2]=s*a,n+=3;return t},getRegion:function(t){var i,s,e,n,r,h,o,a,u,m,d,c,f,l,g,v,x;for(this.initRandom(parseInt(t.seed)),this.initMap(),c=t.x,f=t.y,a=t.x,u=t.y,d=t.width,s=t.height,h=t.octaves,m=t.scale,o=t.container,r=0,e=l=0;d>l;e=l+=1)for(v=c+e,n=g=0;s>g;n=g+=1)x=f+n,o[r]=this.getNoiseValue(v,x,0,h,m),r++;return i={x:a,y:u},t},getNoiseValue:function(t,i,s,e,n){return null==s&&(s=0),null==e&&(e=8),null==n&&(n=1),this.noiseGenerator.get(t,i)},getHeightAt:function(t,i){var s,e,n,r,h,o,a,u,m,d,c,f,l,g,v,x,p,M,y,N,b,w,F,G,R,V,q;return s=.5*(Math.sqrt(3)-1),p=(t+i)*s,u=Math.floor(t+p),c=Math.floor(i+p),e=(3-Math.sqrt(3))/6,M=(u+c)*e,n=u-M,r=c-M,w=t-n,R=i-r,w>R?(m=1,f=0):(m=0,f=1),F=w-m+e,V=R-f+e,G=w-1+2*e,q=R-1+2*e,d=255&u,l=255&c,h=this.perm[d+this.perm[l]]%12,o=this.perm[d+m+this.perm[l+f]]%12,a=this.perm[d+1+this.perm[l+1]]%12,y=.5-w*w-R*R,0>y?g=0:(y*=y,g=y*y*this.dot(this.grad3[h],w,R)),N=.5-F*F-V*V,0>N?v=0:(N*=N,v=N*N*this.dot(this.grad3[o],F,V)),b=.5-G*G-q*q,0>b?x=0:(b*=b,x=b*b*this.dot(this.grad3[a],G,q)),70*(g+v+x)}}}).call(this);