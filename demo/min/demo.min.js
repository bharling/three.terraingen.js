!function(e){function a(e){return.5*(e+1)}var t=new e.terraingen.MersenneTwisterProvider,r=new e.terraingen.PerlinHeightMapProvider(t.random,12,.2),n=document.createElement("canvas");n.id="hm-canvas",n.height=256,n.width=256,document.body.appendChild(n);for(var i=n.getContext("2d"),o=i.createImageData(1,1),d=o.data,g=.02,v=0;256>v;v++)for(var c=0;256>c;c++){var h=v*g,m=c*g,u=0;u+=a(r.getHeightAt(h,m));var f=Math.floor(256*u);d[0]=d[1]=d[2]=f,d[3]=255,i.putImageData(o,v,c)}}(THREE);