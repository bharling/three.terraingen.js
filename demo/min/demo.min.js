var container,camera,scene,renderer,output,mesh;!function(e){function n(){container=document.getElementById("container"),camera=new e.PerspectiveCamera(27,window.innerWidth/window.innerHeight,1,8e3),camera.position.z=2e3,camera.position.y=300,camera.position.x=500,scene=new e.Scene,renderer=new e.WebGLRenderer,renderer.setSize(window.innerWidth,window.innerHeight),container.appendChild(renderer.domElement)}function r(){requestAnimationFrame(r),i()}function i(){.001*Date.now();camera.position.multiplyScalar(.999),mesh.update(camera),renderer.render(scene,camera)}var a=new e.terraingen.MersenneTwisterProvider(23432432),t=new e.terraingen.MersenneTwisterProvider(8712937752032),o=new e.terraingen.generators.Perlin(a.random,12,.0067),d=new e.terraingen.generators.Perlin(t.random,6,.002),s=new e.terraingen.modifiers.Pow(d,new e.terraingen.modifiers.Constant(2)),m=new e.terraingen.modifiers.Constant(.2),w=new e.terraingen.modifiers.Min(o,m),c=new e.terraingen.modifiers.Add(w,s),g=new e.terraingen.modifiers.Multiply(c,new e.terraingen.modifiers.Constant(.4));sin=new e.terraingen.generators.SineX(new e.terraingen.modifiers.Multiply(g,new e.terraingen.modifiers.Constant(.007))),output=new e.terraingen.modifiers.Cache(new e.terraingen.modifiers.ConvertToUnsigned(g));var f=new e.terraingen.BTTGeometryProvider;f.source=output;var h=500,l=40,u=new e.terraingen.MeshProvider(h,l);u.geometryProvider=f,n();var p=new e.terraingen.TerrainPatch(512,512,257,257,u);p.addLOD(.05,1500),p.addLOD(.01,1e3),p.addLOD(.005,750),p.addLOD(.001,500),p.addLOD(3e-4,200),mesh=p.get(),mesh.scale.x=mesh.scale.y=mesh.scale.z=4,mesh.scale.y=300,scene.add(mesh),mesh.rotation.x=4,window.toggleWireframe=function(){mesh.material.wireframe=!mesh.material.wireframe},r()}(THREE);