(function(){var t;THREE.terraingen.Patch=function(){function t(t,e,i,h,s,n){this.x=null!=t?t:0,this.y=null!=e?e:0,this.width=null!=i?i:33,this.height=null!=h?h:33,this.meshProvider=s,this.parent=null!=n?n:null,this.meshProvider.setRegion(this.x,this.y,this.width,this.height)}return t.prototype.parent=null,t.prototype.object=new THREE.LOD,t.prototype.addLOD=function(t,e){var i;return this.meshProvider.lod=t,this.meshProvider.setRegion(this.x,this.y,this.width,this.height),i=this.meshProvider.get(),this.object.addLevel(i,e)},t.prototype.get=function(){return this.object},t}(),THREE.terraingen.Tile=function(){function t(t,e,i){var h,s,n,r,o;for(this.x=null!=t?t:0,this.y=null!=e?e:0,this.meshProvider=i,h=r=0;16>r;h=r+=1)for(s=o=0;16>o;s=o+=1)n=new THREE.terraingen.Patch(33*h,33*s,33,33,this.meshProvider),this.patches.push(n),this.queue.push(n)}return t.prototype.queue=[],t.prototype.patches=[],t.prototype.ready=!1,t.prototype.object=new THREE.Object3d,t.prototype.lods=[{level:.002,distance:100},{level:.02,distance:300},{level:.1,distance:600}],t.prototype.update=function(){var t;return!this.ready&&this.queue.length?t=this.queue.pop():void 0},t}(),t=function(){function t(t,e,i,h){this.x=t,this.y=e,this.width=i,this.height=h,this.children=null,this.objects=[]}return t.prototype.maxobjects=8,t.prototype.add=function(e){var i,h,s,n,r,o,u,l,c,d,p,a,y,f;if(this.objects){if(this.objects.push(e),this.objects.length>this.maxobjects){for(h=.5*this.width,i=.5*this.height,this.children=[new t(this.x,this.y,h,i),new t(this.x+h,this.y,h,i),new t(this.x,this.y+i,h,i),new t(this.x+h,this.y+i,h,i)],p=this.objects,r=0,l=p.length;l>r;r++)for(n=p[r],a=this.children,o=0,c=a.length;c>o;o++)s=a[o],s.contains(n)&&s.add(n);return this.objects=null}for(y=this.children,f=[],u=0,d=y.length;d>u;u++)s=y[u],s.contains(e)?f.push(s.add(e)):f.push(void 0);return f}},t}(),THREE.terraingen.PatchManager=function(){function t(){}return t}()}).call(this);