(function(){var t,r;THREE.terraingen.HeightMapProvider=function(){function t(){}return t.prototype.getHeightAt=function(){return 0},t}(),t=Math.floor,r=Math.sqrt,THREE.terraingen.PerlinHeightMapProvider=function(){function i(r){var i;null==r&&(r=Math.random),this.p=function(){var n,e;for(e=[],i=n=0;256>n;i=++n)e.push(t(256*r()));return e}(),this.perm=function(){var t,r;for(r=[],i=t=0;512>t;i=++t)r.push(this.p[255&i]);return r}.call(this)}return i.prototype.grad3=[[1,1,0],[-1,1,0],[1,-1,0],[-1,-1,0],[1,0,1],[-1,0,1],[1,0,-1],[-1,0,-1],[0,1,1],[0,-1,1],[0,1,-1],[0,-1,-1]],i.prototype.simplex=[[0,1,2,3],[0,1,3,2],[0,0,0,0],[0,2,3,1],[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,2,3,0],[0,2,1,3],[0,0,0,0],[0,3,1,2],[0,3,2,1],[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,3,2,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,2,0,3],[0,0,0,0],[1,3,0,2],[0,0,0,0],[0,0,0,0],[0,0,0,0],[2,3,0,1],[2,3,1,0],[1,0,2,3],[1,0,3,2],[0,0,0,0],[0,0,0,0],[0,0,0,0],[2,0,3,1],[0,0,0,0],[2,1,3,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[2,0,1,3],[0,0,0,0],[0,0,0,0],[0,0,0,0],[3,0,1,2],[3,0,2,1],[0,0,0,0],[3,1,2,0],[2,1,0,3],[0,0,0,0],[0,0,0,0],[0,0,0,0],[3,1,0,2],[0,0,0,0],[3,2,0,1],[3,2,1,0]],i.prototype.dot=function(t,r,i){return t[0]*r+t[1]*i},i.prototype.getHeightAt=function(i,n){var e,o,h,p,s,u,a,f,c,g,d,l,m,v,H,y,M,E,P,A,R,T,q,x,b,j,k;return e=.5*(r(3)-1),M=(i+n)*e,f=t(i+M),d=t(n+M),o=(3-r(3))/6,E=(f+d)*o,h=f-E,p=d-E,T=i-h,b=n-p,T>b?(c=1,l=0):(c=0,l=1),q=T-c+o,j=b-l+o,x=T-1+2*o,k=b-1+2*o,g=255&f,m=255&d,s=this.perm[g+this.perm[m]]%12,u=this.perm[g+c+this.perm[m+l]]%12,a=this.perm[g+1+this.perm[m+1]]%12,P=.5-T*T-b*b,0>P?v=0:(P*=P,v=P*P*this.dot(this.grad3[s],T,b)),A=.5-q*q-j*j,0>A?H=0:(A*=A,H=A*A*this.dot(this.grad3[u],q,j)),R=.5-x*x-k*k,0>R?y=0:(R*=R,y=R*R*this.dot(this.grad3[a],x,k)),70*(v+H+y)},i}()}).call(this);